Final lab.
Still have bug in the encoder. 
